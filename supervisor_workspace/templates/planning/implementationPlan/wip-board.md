# WIP看板管理

## 看板概述
Work In Progress (WIP) 限制看板，用于控制开发流程中的并发任务数量，确保团队聚焦和质量。

## WIP限制规则

### 全局WIP限制
- **最大同时进行的契约单元**: 3个
- **最大待审查PR数量**: 5个  
- **最大阻塞问题数量**: 2个

### 个人WIP限制
- **每人最大并发任务**: 2个契约单元
- **每人最大待review代码**: 3个PR
- **每人最大技术研究任务**: 1个

### 团队角色WIP限制
- **架构师**: 设计决策 1个 + 代码审查 3个
- **高级开发**: 复杂实施 1个 + 指导 2个
- **中级开发**: 标准实施 2个
- **初级开发**: 简单实施 1个 + 学习 1个

## 看板列设计

```
TODO | ANALYSIS | IN_PROGRESS | REVIEW | BLOCKED | DONE
-----|----------|-------------|--------|---------|------
 ∞   |    3     |      5      |   5    |    2    |  ∞
```

### 列说明
- **TODO**: 待开始的契约单元任务
- **ANALYSIS**: 正在分析和设计的任务（WIP: 3）
- **IN_PROGRESS**: 正在实施的任务（WIP: 5）
- **REVIEW**: 等待代码审查的任务（WIP: 5）
- **BLOCKED**: 被阻塞的任务（WIP: 2）
- **DONE**: 已完成的任务

## 任务卡片模板

### 契约单元任务卡片
```
标题: [契约单元名] - [当前阶段]
负责人: [开发者]
优先级: High/Medium/Low
预计工作量: [人天]
当前状态: STUB/FAKE/REAL
完成标准: 
- [ ] 契约测试通过
- [ ] 代码审查通过  
- [ ] 文档更新完成
阻塞因素: [如有]
依赖任务: [契约单元列表]
```

### 技术研究任务卡片
```
标题: [研究主题]
负责人: [研究者]
时间盒: [天数]
目标: [研究目标和输出]
完成标准:
- [ ] 技术方案文档
- [ ] 可行性验证
- [ ] 团队分享完成
```

## 流转规则

### 进入条件
- **TODO → ANALYSIS**: 依赖任务完成，资源可用
- **ANALYSIS → IN_PROGRESS**: 设计方案确认，WIP限制允许
- **IN_PROGRESS → REVIEW**: 实施完成，自测通过  
- **REVIEW → DONE**: 代码审查通过，测试验证通过
- **任意状态 → BLOCKED**: 遇到阻塞问题

### 退出条件
- **BLOCKED → IN_PROGRESS**: 阻塞问题解决
- **REVIEW → IN_PROGRESS**: 审查发现问题需修复
- **ANALYSIS → TODO**: 设计方案不可行，需重新规划

## 度量指标

### 流程效率指标
- **平均前置时间**: 从TODO到DONE的平均时间
- **平均周期时间**: 从IN_PROGRESS到DONE的平均时间
- **吞吐量**: 每周完成的任务数量
- **WIP利用率**: 实际WIP vs 限制WIP的比率

### 质量指标  
- **返工率**: REVIEW→IN_PROGRESS的比率
- **阻塞频率**: 任务被阻塞的频率
- **一次通过率**: 直接从REVIEW到DONE的比率

### 团队协作指标
- **任务分布均衡度**: 各成员任务数量的分布
- **知识共享度**: 跨人员的任务协作频率
- **瓶颈识别**: 哪个阶段经常达到WIP限制

## 日常运营

### 每日站会检查项
- [ ] 检查WIP限制是否超标
- [ ] 识别新的阻塞问题
- [ ] 确认任务优先级调整
- [ ] 评估资源分配是否合理

### 每周回顾检查项
- [ ] 分析流程效率指标趋势
- [ ] 识别重复出现的阻塞模式
- [ ] 评估WIP限制是否合适
- [ ] 调整下周的任务优先级

### 阻塞问题处理流程
1. **识别阻塞**: 任务超过预期时间未进展
2. **分类阻塞**: 技术/资源/依赖/外部因素
3. **制定方案**: 24小时内团队讨论解决方案
4. **执行跟踪**: 每日检查解决进展
5. **复盘改进**: 阻塞解决后分析根因和预防措施

## 工具配置

### 物理看板设置
- 使用白板或贴纸墙
- 不同颜色代表不同优先级
- 清晰标记WIP限制数字
- 定期更新任务状态

### 数字化工具配置
- **推荐工具**: Trello/Notion/Azure DevOps/Jira
- **自动化规则**: WIP限制超标时自动提醒
- **报表配置**: 每周自动生成效率报告
- **集成配置**: 与Git/CI系统集成任务状态

## WIP限制调整策略

### 增加WIP限制的情况
- 团队规模扩大
- 任务复杂度降低
- 外部依赖减少
- 团队协作能力提升

### 减少WIP限制的情况
- 质量问题频发
- 任务经常阻塞
- 团队压力过大
- 交付质量下降

### 调整决策流程
1. **数据分析**: 基于度量指标分析当前状况
2. **团队讨论**: 听取团队成员反馈和建议
3. **试验调整**: 小幅调整并观察效果
4. **效果评估**: 2周后评估调整效果
5. **正式确认**: 确认调整有效后正式实施

## 成功案例模式

### 高效流转模式
- 任务拆分粒度合适（1-3天完成）
- 依赖关系清晰，阻塞少
- 代码审查及时响应
- 测试自动化程度高

### 避免的反模式
- 任务粒度过大，长时间占用WIP
- 同时开启过多任务，分散注意力
- 忽略阻塞问题，任务堆积
- 缺少明确的完成标准

## 团队约定

### 共同承诺
- 严格遵守WIP限制，不超标开始新任务
- 优先帮助解决阻塞问题
- 及时更新任务状态
- 主动沟通任务进展和困难

### 例外处理
- 紧急Bug修复可突破WIP限制
- 阻塞解决任务优先级最高
- 代码审查任务不占用个人WIP
- 学习和培训任务单独管理

## 变更记录

| 日期 | 变更内容 | 变更原因 | 负责人 |
|------|----------|----------|--------|
| [日期] | 初始版本 | 建立WIP管理制度 | [负责人] |
| [日期] | 调整WIP限制 | 基于实际运行数据优化 | [负责人] |