{
  "identifier": "contractConfirmation",
  "name": "契约确认（Checkpoint）",
  "stage": "analysis",
  "description": "确认上游冻结的对外API（方法/参数/返回/错误语义）与当前迭代一致",
  "outputs": [
    {
      "name": "API接口跟踪清单",
      "description": "列出每个API将用到的契约单元名",
      "path": "docs/API_TRACE.md",
      "path_type": "FILE",
      "template_filename": "api-trace.md",
      "is_required": false,
      "output_id": "output_001_contractConfirmation_api_trace"
    }
  ],
  "step_id": "step_001_analysis_contractConfirmation",
  "rules": [
    {
      "name": "契约冻结验证",
      "when_condition": "开始Library开发前",
      "must": [
        "上游API规格已冻结，包含方法名、参数、返回值类型",
        "错误语义已明确定义，包含各种异常情况",
        "API变更需要通过上游变更流程"
      ],
      "must_not": [
        "不得在迭代内随意改变API名称",
        "不得在迭代内修改错误语义"
      ]
    }
  ]
}