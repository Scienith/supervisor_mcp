{
  "identifier": "contractConfirmation",
  "name": "契约确认（Checkpoint）",
  "stage": "analysis",
  "description": "确认上游冻结的对外API（方法/参数/返回/错误语义）与当前迭代一致",
  "outputs": [
    {
      "output_id": "f6dc34c5-7c72-4636-a8c4-526a78af2ceb",
      "name": "API接口跟踪清单",
      "description": "列出每个API将用到的契约单元名",
      "path": "docs/API_TRACE.md",
      "type": "FILE",
      "template_filename": "api-trace.md"
    }
  ],
  "rules": [
    {
      "name": "API跟踪文档2",
      "when_condition": "需要明确契约单元映射关系时",
      "must": [
        "API_TRACE.md应列出每个对外API对应的契约单元!!",
        "契约单元命名应清晰表达其能力和职责!!",
        "每个契约单元应有明确的输入输出定义!!",
        "复杂API应拆解为多个内聚的契约单元!!"
      ],
      "must_not": [
        "不得创建过于复杂的契约单元",
        "不得忽略契约单元之间的依赖关系",
        "不得省略关键的能力抽象"
      ]
    }
  ],
  "step_id": "826ccb32-7420-4fcc-8882-6cd0ebc9b501"
}